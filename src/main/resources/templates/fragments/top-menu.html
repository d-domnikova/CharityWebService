<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:x-transition="http://www.w3.org/1999/xhtml"
      lang="en">

<div th:fragment="top-menu">
    <div class="min-h-full">
        <nav class="bg-slate-800">
            <div class="mx-auto max-w-7xl pr-4 sm:pl-3 lg:px-8">
                <div class="flex h-16 items-center justify-between">
                    <div class="flex items-center">
                        <button type="button"
                                class="border-r border-slate-300 px-2 text-slate-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-sky-500 lg:hidden"
                                @click.stop="openSidebar">
                            <span class="sr-only">Open sidebar</span>
                            <svg class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke-width="1.2" stroke="currentColor"
                                 aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                      d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"/>
                            </svg>
                        </button>
                        <div class="hidden md:block">
                            <div class="ml-10 flex items-baseline space-x-3">
                                <a th:replace="~{fragments/menu-buttons::desktop-button(link=@{/}, title='Home Page', menuItem='homePage')}"></a>
                                <a th:replace="~{fragments/menu-buttons::desktop-button(link=@{/search}, title='Search', menuItem='search')}"></a>
                                <a th:replace="~{fragments/menu-buttons::desktop-button(link=@{/projects}, title='My Projects', menuItem='projectList')}"></a>
                            </div>
                        </div>
                    </div>

                        <div class="ml-4 flex items-center md:ml-6 space-x-3">
                            <a th:href=@{/projects/create} th:text="#{create.new.project}"
                               class="rounded-md px-3 py-2 mr-3 text-base font-medium bg-sky-400  text-white hover:bg-sky-600">Create new project</a>

                            <!-- Profile dropdown -->
                            <div class="relative ml-3"
                                 x-data="userPopupMenu()"
                                 @click.away="close"
                                 @keydown.window.escape="close">
                                <div>
                                    <button type="button"
                                            class="flex max-w-xs items-center rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800"
                                            id="user-menu-button" aria-expanded="false" aria-haspopup="true"
                                            @click="toggleVisibility">
                                        <span class="sr-only">Open user menu</span>
                                        <img class="h-8 w-8 rounded-full"
                                             src="https://arknights.wiki.gg/images/thumb/f/fe/Ebenholz_Elite_2_icon.png/100px-Ebenholz_Elite_2_icon.png"
                                             alt="Profile picture">
                                    </button>
                                </div>

                                <div class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
                                     role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1"
                                     x-show="isVisible()"
                                     x-cloak
                                     x-transition:enter="transition ease-out duration-100 transform"
                                     x-transition:enter-start="opacity-0 scale-95"
                                     x-transition:enter-end="opacity-100 scale-100"
                                     x-transition:leave="transition ease-in duration-75 transform"
                                     x-transition:leave-start="opacity-100 scale-100"
                                     x-transition:leave-end="opacity-0 scale-95">
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1"
                                       id="user-menu-item-0">My Profile</a>

                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1"
                                       id="user-menu-item-1">Settings</a>

                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1"
                                       id="user-menu-item-2">Sign out</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>
</html>